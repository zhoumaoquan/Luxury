(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/Profile/userdata/addAddress"],{"1a26":function(e,t,n){},2770:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s}));var s={uIcon:function(){return n.e("uview-ui/components/u-icon/u-icon").then(n.bind(null,"5322"))},uPicker:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-picker/u-picker")]).then(n.bind(null,"489c"))},uSkeleton:function(){return n.e("uview-ui/components/u-skeleton/u-skeleton").then(n.bind(null,"fd0f"))}},a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.isRegion=!0})},i=[]},"71d9":function(e,t,n){"use strict";n.r(t);var s=n("c666"),a=n.n(s);for(var i in s)"default"!==i&&function(e){n.d(t,e,(function(){return s[e]}))}(i);t["default"]=a.a},b9be:function(e,t,n){"use strict";var s=n("1a26"),a=n.n(s);a.a},c666:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i(n("a34a")),a=n("af94");function i(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,s,a,i,d){try{var r=e[i](d),o=r.value}catch(c){return void n(c)}r.done?t(o):Promise.resolve(o).then(s,a)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(s,a){var i=e.apply(t,n);function r(e){d(i,s,a,r,o,"next",e)}function o(e){d(i,s,a,r,o,"throw",e)}r(void 0)}))}}var o={data:function(){return{isRegion:!1,address:{m_id:"",name:"",phone:"",detail:"",province:"",city:"",district:"",adcode:"",id:""},loading:!1,type:""}},onLoad:function(t){this.type=t.type,this.address.m_id=e.getStorageSync("m_id"),2==t.type&&(this.loading=!0,this.address.id=t.id,e.setNavigationBarTitle({title:"编辑地址"}),this._getAddress(this.address.m_id,t.id))},methods:{regionClick:function(e){this.address.province=e.province.label,this.address.city=e.city.label,this.address.district=e.area.label,this.address.adcode=e.area.value},_getAddress:function(t,n){var i=this;return r(s.default.mark((function d(){var r;return s.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,(0,a.addressDesc)({m_id:t,address_id:n});case 3:r=s.sent,i.address.name=r.contacts,i.address.phone=r.mobile,i.address.province=r.province_name,i.address.city=r.city_name,i.address.district=r.district_name,i.address.adcode=r.adcode,i.address.detail=r.address,setTimeout((function(){i.loading=!1}),1500),s.next=17;break;case 14:s.prev=14,s.t0=s["catch"](0),e.showToast({title:s.t0,icon:"none",success:function(){setTimeout((function(){e.navigateBack({delta:1})}),1e3)}});case 17:case"end":return s.stop()}}),d,null,[[0,14]])})))()},_addAddress:function(){var t=this;return r(s.default.mark((function n(){return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.showLoading({title:"添加地址中...",mask:!0}),n.prev=1,n.next=4,(0,a.addressAdd)(t.address);case 4:n.sent,e.hideLoading(),e.showToast({title:"保存成功",mask:!0,success:function(){setTimeout((function(){e.navigateBack({delta:1})}),1500)}}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),e.showToast({title:n.t0,icon:"none"});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},_updataAddress:function(){var t=this;return r(s.default.mark((function n(){return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.showLoading({title:"修改保存中...",mask:!0}),n.prev=1,n.next=4,(0,a.addressUpdata)(t.address);case 4:n.sent,e.hideLoading(),e.showToast({title:"保存成功",mask:!0,success:function(){setTimeout((function(){e.navigateBack({delta:1})}),1500)}}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),e.showToast({title:n.t0,icon:"none"});case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},saveAddress:function(){return""===this.address.name?e.showToast({title:"请输入收货人姓名",icon:"none"}):""===this.address.phone?e.showToast({title:"请输入收货人手机号",icon:"none"}):""===this.address.adcode?e.showToast({title:"请选择收货地址",icon:"none"}):""===this.address.detail?e.showToast({title:"请输入详细地址",icon:"none"}):void(1==this.type?this._addAddress():this._updataAddress())}}};t.default=o}).call(this,n("543d")["default"])},c762:function(e,t,n){"use strict";n.r(t);var s=n("2770"),a=n("71d9");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("b9be");var d,r=n("f0c5"),o=Object(r["a"])(a["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],d);t["default"]=o.exports},d998:function(e,t,n){"use strict";(function(e){n("fa97");s(n("66fd"));var t=s(n("c762"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])}},[["d998","common/runtime","common/vendor"]]]);